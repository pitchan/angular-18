<div class="grid">
  <div class="col-6"> 
    <p-card styleClass="w-full mt-3">
      <p-checkbox 
      [(ngModel)]="isDelay"
      label="Set delay to list request"  
      [binary]="true" 
      inputId="delay" />
    </p-card>    

    @let filteredPokemons = filteredPokemons$ | async;
    <p-autoComplete
      styleClass="w-full mt-3"
      [formControl]="autoCompleteSwitchMapControl"
      [dropdown]="true"
      [showClear]="true"
      [suggestions]="filteredPokemons"
      (onSelect)="onPokemonSelect($event)"
      placeholder="SwitchMap"
      optionLabel="name" />

    <p-autoComplete
      styleClass="w-full mt-3"
      [formControl]="autoCompleteConcatMapControl"
      [dropdown]="true"
      [showClear]="true"
      [suggestions]="filteredPokemons"
      (onSelect)="onPokemonSelect($event)"
      placeholder="ConcatMap"
      optionLabel="name" />  

    <p-autoComplete
      styleClass="w-full mt-3"
      [formControl]="autoCompleteMergeMapControl"
      [dropdown]="true"
      [showClear]="true"
      [suggestions]="filteredPokemons"
      (onSelect)="onPokemonSelect($event)"
      placeholder="MergeMap"
      optionLabel="name" />

      <p-autoComplete
      styleClass="w-full mt-3"
      [formControl]="autoCompleteExhaustMapControl"
      [dropdown]="true"
      [showClear]="true"
      [suggestions]="filteredPokemons"
      (onSelect)="onPokemonSelect($event)"
      placeholder="ExhaustMap"
      optionLabel="name" />
  
    
      
    <p-card styleClass="w-full mb-3 mt-3">  
      @if (selectedPokemon()) {
        <h1 class="text-700 text-center">{{ selectedPokemon()?.name }}</h1>
        <div class="overflow-hidden text-center">
          <p-image 
            [src]="selectedPokemon()?.sprites?.picture"
            [previewImageSrc]="selectedPokemon()?.sprites?.bigPicture"
            alt="Pokemon Image"
            [preview]="true"/>
        </div>
      } @else {
        <h1 class="text-700 text-center">Select Pokemon</h1>
      }     
    </p-card>
    
  </div>
  <div class="col-6">
    <!-- Affichage des logs -->
    <p-card styleClass="w-full mb-3 mt-3">
      <div class="flex">
        <div class="col-2">
          <p-button icon="pi pi-trash" severity="danger" [disabled]="logMessages().length === 0" (click)="clearLogs()"/> 
        </div> 
        <p-divider layout="vertical" />
        <div class="col-8 flex justify-content-center align-items-center">
          <div class="text-700 text-2xl font-bold">Request Logs</div>
        </div>
      </div>
      <p-divider />
      <div>
        @for(log of logMessages(); track log) {
          <p-tag [severity]="log.type" [value]="log.message" styleClass="p-element mb-1"></p-tag>
        } @empty {          
          <h1 class="text-400">No logs</h1>
        }
      </div>
    </p-card>  
    
    
  </div>
<div>
